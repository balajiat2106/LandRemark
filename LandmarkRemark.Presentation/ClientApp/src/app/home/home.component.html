<div class="row">
  <form [formGroup]="locationForm">
    <div class="form-group col-sm-12">
      <div class="col-sm-6">
        <input type="text" formControlName="searchTextControl" class="form-control" placeholder="Search Text" />
      </div>
      <div class="col-sm-6">
        <button (click)="SearchLocationBasedOnText()" class="btn btn-primary">Search By Remark</button>
      <button (click)="SearchLocationBasedOnUserName()" class="btn btn-primary">Search By Username</button>
      </div>
    </div>

  </form>
  <div class="col-sm-4">
    <agm-map [longitude]="coordinates.longitude" [latitude]="coordinates.latitude" style="height:400px;" [usePanning]="true" (mapClick)="OnChoseLocation($event)">
      <agm-marker *ngFor="let lm of LocationMarkers;"
                  (markerClick)="ClickedMarker(lm.remark, lm.label)"
                  [latitude]=lm.latitude
                  [longitude]=lm.longitude>
        <agm-info-window>
          <strong>{{currentClickRemark}}</strong>
        </agm-info-window>
      </agm-marker>
      <agm-marker [latitude]=coordinates.latitude
                  [longitude]=coordinates.longitude>
      </agm-marker>
      <agm-marker [latitude]=currentClickLatitude
                  [longitude]=currentClickLongitude>
      </agm-marker>

    </agm-map>
    <button (click)="ResetToCurrentLocation()" class="btn btn-primary pull-left">Re-center</button>
    <button (click)="GetLocationsForUser()" class="btn btn-primary pull-right">Show My Remarks</button>
  </div>

  <div class="col-sm-4">
    <form [formGroup]="locationForm">
      <div class="panel panel-default">
        <div class="panel-heading">Remark</div>
        <div class="panel-body">
          <div class="form-group">
            <input type="text" formControlName="locationLabel" class="form-control" placeholder="Label" />
          </div>
          <div class="form-group">
            <textarea type="text" formControlName="locationRemark" class="form-control" placeholder="Remark"></textarea>
          </div>
          <div class="form-group">
            <button (click)="AddLocationsForUser()" class="btn btn-primary">Submit</button>
          </div>
        </div>
      </div>

    </form>
  </div>

  <div class="col-sm-4">
    <table class='table' *ngIf="LocationMarkers">
      <thead>
        <tr>
          <th>Label</th>
          <th>Remark</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let l of LocationMarkers">
          <td>{{ l.label }}</td>
          <td>{{ l.remark }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
